---
#
#  Part of https://github.com/jaclu/ish-fstools
#
#  Copyright (c) 2025: Jacob.Lundqvist@gmail.com
#
#  License: MIT
#
#  Used to debug selected tasks
#

- name: Setting up iSH FS - limited dbg process
  hosts: "{{ target_hosts | default('localhost') }}"
  gather_facts: false
  pre_tasks:
    - name: Ensure Python is installed (and gather facts)
      import_tasks: tasks/install_python.yml
    - name: Load override variables
      import_tasks: tasks/pre_tasks.yml

  #
  # only one of the below can be used - put the active one last
  #

  # #
  # # run specific task file
  # #
  # tasks:
  #   - name: Run specific task file
  #     import_tasks: tasks/is_ish.yml

  # #
  # # run specific task
  # #
  # tasks:
  #   - name: Intentional fail
  #     fail:
  #       msg: "Intentional fail"

  # #
  # # run specific task inside a role
  # #
  # tasks:
  #   - name: Use just one task file from the role
  #     ansible.legacy.include_role:
  #       name: all_distros
  #       tasks_from: user_account.yml

  #
  # run specific role(-s)
  #
  roles:
    - role: preparational_steps
    # - role: alpine
    #   when: ansible_facts.os_family == 'Alpine'
    # - role: debian
    #   when: ansible_facts.os_family == 'Debian'
    # - role: all_distros
